# Do not modify this file!  It was generated by ‘nixos-generate-config’
# and may be overwritten by future invocations.  Please make changes
# to /etc/nixos/configuration.nix instead.
{ config, lib, pkgs, modulesPath, ... }:

{
  imports =
    [
    ];

  services.flatpak.enable = true;

  environment.systemPackages = with pkgs; [
    wget
    zoxide
    nix-zsh-completions
    git
    gh
    vscode
    ncspot
    flameshot
    kitty
    yazi
    fzf # req for yazi zoxide navigation
  ];

  # Steam
  programs.steam = {
    enable = true;
    remotePlay.openFirewall = true; # Open ports in the firewall for Steam Remote Play
    dedicatedServer.openFirewall = true; # Open ports in the firewall for Source Dedicated Server
    localNetworkGameTransfers.openFirewall = true; # Open ports in the firewall for Steam Local Network Game Transfers
  };

  # Kitty config symlink
  environment.sessionVariables = {
    TERMINAL = "kitty";
  };
  home-manager.users.flynn = { config, pkgs, ... }: {
    xdg.configFile = {
      "kitty" = {
            source = config.lib.file.mkOutOfStoreSymlink "${config.home.homeDirectory}/.nix/config/kitty";
            recursive = true;
      };
    };
  };

  # Set default apps
  xdg.mime.defaultApplications = {
    "inode/directory" = "yazi.desktop";
    "application/pdf" = "firefox.desktop";
  };
}
